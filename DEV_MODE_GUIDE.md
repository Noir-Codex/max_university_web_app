# üîß –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend
cd server
npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend
cd max-webapp
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000

### 2. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ **admin@university.ru** (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä).

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:

#### –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)

```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
showDevUsers()

// –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –ò–≤–∞–Ω–æ–≤–∞
switchDevUser("ivanov@university.ru")

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
switchDevUser(DEV_USERS.teacher_ivanov)
```

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Å –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

| –†–æ–ª—å | Email | –ò–º—è | –ü–∞—Ä–æ–ª—å |
|------|-------|-----|--------|
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | admin@university.ru | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –°–∏—Å—Ç–µ–º—ã | admin123 |
| –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å | ivanov@university.ru | –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ | admin123 |
| –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å | petrov@university.ru | –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤ | admin123 |
| –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å | sidorova@university.ru | –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞ | admin123 |
| –°—Ç—É–¥–µ–Ω—Ç | smirnov@university.ru | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–º–∏—Ä–Ω–æ–≤ | admin123 |

## –§—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### `showDevUsers()`
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ.

```javascript
showDevUsers()
// –í—ã–≤–æ–¥:
// üë• –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
//   admin: admin@university.ru ‚Üê —Ç–µ–∫—É—â–∏–π
//   teacher_ivanov: ivanov@university.ru
//   teacher_petrov: petrov@university.ru
//   ...
```

### `switchDevUser(email)`
–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É.

```javascript
// –ü–æ email
switchDevUser("ivanov@university.ru")

// –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
switchDevUser(DEV_USERS.teacher_ivanov)
```

### `DEV_USERS`
–û–±—ä–µ–∫—Ç —Å email –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

```javascript
console.log(DEV_USERS)
// {
//   admin: "admin@university.ru",
//   teacher_ivanov: "ivanov@university.ru",
//   ...
// }
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å email —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
localStorage.getItem('dev_user_email')

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
JSON.parse(localStorage.getItem('auth-storage'))
```

## –û—Ç–ª–∞–¥–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤—è—Ç—Å—è –ª–æ–≥–∏:

```
üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: { viewMode: "week", currentWeekType: 2, userId: 2 }
üì° API –∑–∞–ø—Ä–æ—Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: { teacher_id: 2 }
üì° API –æ—Ç–≤–µ—Ç: 14 –ø–∞—Ä
üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: 14 –ø–∞—Ä
```

### –ï—Å–ª–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É—Å—Ç–æ–µ:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```javascript
   JSON.parse(localStorage.getItem('auth-storage')).state.user.role
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `"teacher"`, –∞ –Ω–µ `"admin"`

2. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:**
   ```javascript
   switchDevUser("ivanov@university.ru")
   ```

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–µ–¥–µ–ª—é** –∫–Ω–æ–ø–∫–æ–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (1-—è ‚Üî 2-—è)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î:**
   ```bash
   cd server
   node scripts/seedScheduleWithWeekType.js
   ```

## –¢–∏–ø—ã –Ω–µ–¥–µ–ª—å

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏—è –Ω–µ–¥–µ–ª—å:

- **week_type = 0** - –ø–∞—Ä—ã –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
- **week_type = 1** - –ø–µ—Ä–≤–∞—è (–Ω–µ—á–µ—Ç–Ω–∞—è) –Ω–µ–¥–µ–ª—è
- **week_type = 2** - –≤—Ç–æ—Ä–∞—è (—á–µ—Ç–Ω–∞—è) –Ω–µ–¥–µ–ª—è

–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç 1 —Å–µ–Ω—Ç—è–±—Ä—è —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞.

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:

```javascript
// –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
const t1 = () => switchDevUser(DEV_USERS.teacher_ivanov)
const t2 = () => switchDevUser(DEV_USERS.teacher_petrov)
const admin = () => switchDevUser(DEV_USERS.admin)
const student = () => switchDevUser(DEV_USERS.student)

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
t1()      // ‚Üí –ò–≤–∞–Ω–æ–≤ (–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å)
t2()      // ‚Üí –ü–µ—Ç—Ä–æ–≤ (–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å)
admin()   // ‚Üí –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
student() // ‚Üí –°–º–∏—Ä–Ω–æ–≤ (—Å—Ç—É–¥–µ–Ω—Ç)
```

## –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö

### –û—á–∏—Å—Ç–∏—Ç—å localStorage:
```javascript
localStorage.clear()
location.reload()
```

### –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
```bash
cd server
node scripts/seedData.js
node scripts/seedScheduleWithWeekType.js
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ API

### –ß–µ—Ä–µ–∑ curl:
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω)
curl "http://localhost:3001/api/schedule?week_type=1" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### –ß–µ—Ä–µ–∑ DevTools Network:
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å `/api/schedule`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Request Headers –∏ Response

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
max_project/
‚îú‚îÄ‚îÄ server/              # Backend (Node.js + Express)
‚îÇ   ‚îú‚îÄ‚îÄ server.js        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ scripts/         # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ seedData.js  # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø
‚îÇ       ‚îî‚îÄ‚îÄ seedScheduleWithWeekType.js  # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ max-webapp/          # Frontend (React + Vite)
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ services/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ max/
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ bridge.js  # MAX Bridge API
    ‚îÇ   ‚îú‚îÄ‚îÄ utils/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ devHelper.js   # Dev —É—Ç–∏–ª–∏—Ç—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ pages/
    ‚îÇ       ‚îú‚îÄ‚îÄ TeacherDashboard/
    ‚îÇ       ‚îî‚îÄ‚îÄ AdminDashboard/
    ‚îî‚îÄ‚îÄ index.html
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Frontend:** http://localhost:3000
- **Backend:** http://localhost:3001
- **Health Check:** http://localhost:3001/health
- **MAX Bridge Docs:** https://dev.max.ru/docs/webapps/bridge
- **MAX UI Docs:** https://dev.max.ru/ui

## Troubleshooting

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network –≤–∫–ª–∞–¥–∫—É –Ω–∞ –æ—à–∏–±–∫–∏ 401/403
4. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û—à–∏–±–∫–∞ "Invalid token"
1. –û—á–∏—Å—Ç–∏—Ç–µ localStorage: `localStorage.clear()`
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω

### –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `first_name` –∏ `last_name`

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (DEV)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `localStorage.removeItem('dev_helper_shown')`

---

**–î–∞—Ç–∞:** 9 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.0.0



