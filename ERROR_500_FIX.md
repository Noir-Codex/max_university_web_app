# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò 500

## üêõ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚úÖ –û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `emailLogin`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å try-catch
- –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î —Å 2 –¥–æ 10 —Å–µ–∫—É–Ω–¥
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –≤—Ö–æ–¥–∞

**–§–∞–π–ª—ã:**
- `server/controllers/authController.js` (–æ–±–Ω–æ–≤–ª–µ–Ω)
- `server/config/database.js` (–æ–±–Ω–æ–≤–ª–µ–Ω)

---

### 2. ‚úÖ –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –¥–æ–±–∞–≤–ª—è–ª–æ—Å—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å try-catch
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ –ø–æ–ª—è `room` (—Ç–µ–ø–µ—Ä—å `null` –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏)

**–§–∞–π–ª—ã:**
- `server/controllers/scheduleController.js` (–æ–±–Ω–æ–≤–ª–µ–Ω)

---

## üìã –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

### `server/config/database.js`
```javascript
// –ë—ã–ª–æ:
connectionTimeoutMillis: 2000, // 2 —Å–µ–∫—É–Ω–¥—ã

// –°—Ç–∞–ª–æ:
connectionTimeoutMillis: 10000, // 10 —Å–µ–∫—É–Ω–¥
```

### `server/controllers/authController.js`
```javascript
exports.emailLogin = asyncHandler(async (req, res) => {
  try {
    console.log('üîê –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞:', { email });
    
    // ... –ø—Ä–æ–≤–µ—Ä–∫–∏ ...
    
    console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω:', { id: user.id, email: user.email, role: user.role });
    console.log('‚úÖ –ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π');
    console.log('‚úÖ –¢–æ–∫–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', email);
    
    res.json({ success: true, token, user });
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ:', error);
    throw error;
  }
});
```

### `server/controllers/scheduleController.js`
```javascript
exports.createLesson = asyncHandler(async (req, res) => {
  try {
    console.log('üìÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—ã:', { subject_id, group_id, ... });
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    if (!subject_id || !group_id || !teacher_id || !day_of_week || !time_start || !time_end || !lesson_type) {
      return res.status(400).json({
        error: 'ValidationError',
        message: '–ù–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã'
      });
    }
    
    // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ...
    
    const lesson = await Schedule.create({
      // ...
      room: room || null, // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: null –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
      // ...
    });
    
    console.log('‚úÖ –ü–∞—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ:', { id: lesson.id, ... });
    
    res.status(201).json(lesson);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞—Ä—ã:', error);
    throw error;
  }
});
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –í–≤–µ–¥–∏—Ç–µ:
   - Email: `admin@university.ru`
   - –ü–∞—Ä–æ–ª—å: `admin123`
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"
4. –î–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
  - `üîê` - –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞
  - `‚úÖ` - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `‚ùå` - –æ—à–∏–±–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º"
3. –ù–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è:
   - –ì—Ä—É–ø–ø–∞: –≤—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É
   - –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞: –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç
   - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
   - –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏: –≤—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å
   - –ù–µ–¥–µ–ª—è: –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –Ω–µ–¥–µ–ª–∏
   - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, 09:00
   - –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è: –Ω–∞–ø—Ä–∏–º–µ—Ä, 10:30
   - –ê—É–¥–∏—Ç–æ—Ä–∏—è: –Ω–∞–ø—Ä–∏–º–µ—Ä, 301 (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
5. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
6. –ü–∞—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
  - `üìÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—ã` - –Ω–∞—á–∞–ª–æ —Å–æ–∑–¥–∞–Ω–∏—è
  - `‚úÖ –ü–∞—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ` - —É—Å–ø–µ—Ö
  - `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞—Ä—ã` - –æ—à–∏–±–∫–∞

---

## üîç –û—Ç–ª–∞–¥–∫–∞:

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   # –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä
   # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
   # üîê –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞: { email: '...' }
   # ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω: { ... }
   # ‚úÖ –ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π
   # ‚úÖ –¢–æ–∫–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ë–î
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `users` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω –≤ –ë–î
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç–æ–¥ `verifyPassword` –≤ –º–æ–¥–µ–ª–∏ User

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
   # üìÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—ã: { ... }
   # ‚úÖ –ü–∞—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ: { ... }
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - –í—Å–µ –ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω—ã ID (–≥—Ä—É–ø–ø—ã, –ø—Ä–µ–¥–º–µ—Ç–∞, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è)
   - –ù–µ—Ç –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `schedule`:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚úÖ –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ 500
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ (—Ç–∞–π–º–∞—É—Ç 10 —Å–µ–∫—É–Ω–¥)

---

## üöÄ –ó–∞–ø—É—Å–∫:

**Backend:**
```bash
cd /Users/alex/Desktop/max_project/server
PORT=3001 node server.js
```

**Frontend:**
```bash
cd /Users/alex/Desktop/max_project/max-webapp
npm run dev
```

**–û—Ç–∫—Ä–æ–π—Ç–µ:**
```
http://localhost:3000
```

**–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ –∏–ª–∏ Ctrl+Shift+R!

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–û—à–∏–±–∫–∏ 500 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ! üöÄ



